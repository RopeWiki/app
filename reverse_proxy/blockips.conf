# Note: Changes to this file require rebuilding the ropewiki/reverse_proxy
# image; see Dockerfile in this folder.

# Block know bad URLs
map $request_uri $block_request {
    default 0;

    # bots trying to exploit remote fetching
    "~*^/Weather\?location=http" 1;

    # bots trying to exploit wordpress sites
    "~*^/wp-login\.php" 1;
    "~*^/xmlrpc\.php" 1;
}

deny 117.52.74.20;
deny 157.55.39.218;
deny 174.164.160.6;
deny 174.205.101.30;
deny 174.234.206.74;
deny 185.191.171.0/24;
deny 189.211.189.146;
deny 193.150.70.0/24;
deny 193.218.190.0/24;
deny 199.96.119.186;
deny 2.154.225.144;
deny 216.24.45.22;
deny 23.22.35.162;
deny 23.93.103.234;
deny 3.224.220.101;
deny 37.34.59.165;
deny 40.77.167.171;
deny 40.83.2.0/24;
deny 47.128.0.0/16;
deny 47.209.6.52;
deny 51.222.253.0/24;
deny 52.70.240.171;
deny 54.36.148.0/24;
deny 54.36.149.0/24;
deny 65.108.41.9;
deny 66.249.79.0/24;
deny 67.148.10.34;
deny 67.183.170.207;
deny 70.32.68.28;
deny 73.193.74.76;
deny 85.208.96.0/24;
deny 89.46.109.205;
deny 95.108.213.0/24;
